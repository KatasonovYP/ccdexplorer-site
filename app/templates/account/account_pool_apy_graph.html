<!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
<script src="https://cdn.jsdelivr.net/npm/vega@5.21"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17"></script>
<!-- Import vega-embed -->
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.2"></script>
<style>
  .vega-embed {
    width: 100%;
    height: 350px;
  }

  .vega-embed-small {
    width: 100%;
    height: 150px;
  }
</style>


<script type="text/javascript">

  var width = Math.min(window.innerWidth, 675);
  var spec = "{{env.SITE_URL}}/account/apy-graph/{{net}}/{{account.stake.baker.baker_info.baker_id}}/" + width;
  // console.log('spec: ', spec)
  var opt = { renderer: 'svg', actions: false };
  vegaEmbed('#vis-apy-graph', spec, opt).then(function (result) { }).catch(console.error);
</script>
<div class="vega-embed" id="vis-apy-graph"></div>